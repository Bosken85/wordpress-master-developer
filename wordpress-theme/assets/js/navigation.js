/*! For license information please see navigation.js.LICENSE.txt */
!function(){"use strict";class e{constructor(){this.mobileMenuToggle=document.querySelector(".mobile-menu-toggle"),this.mobileMenuOverlay=document.querySelector(".mobile-menu-overlay"),this.mobileMenuClose=document.querySelector(".mobile-menu-close"),this.mobileMenuBackdrop=document.querySelector(".mobile-menu-backdrop"),this.mobileNavLinks=document.querySelectorAll(".mobile-nav-link"),this.isMenuOpen=!1,this.init()}init(){this.setupEventListeners(),this.setupKeyboardNavigation(),this.updateActiveStates()}setupEventListeners(){this.mobileMenuToggle&&this.mobileMenuToggle.addEventListener("click",e=>{e.preventDefault(),this.toggleMobileMenu()}),this.mobileMenuClose&&this.mobileMenuClose.addEventListener("click",e=>{e.preventDefault(),this.closeMobileMenu()}),this.mobileMenuBackdrop&&this.mobileMenuBackdrop.addEventListener("click",()=>{this.closeMobileMenu()}),this.mobileNavLinks.forEach(e=>{e.addEventListener("click",()=>{setTimeout(()=>{this.closeMobileMenu()},150)})}),document.addEventListener("keydown",e=>{"Escape"===e.key&&this.isMenuOpen&&this.closeMobileMenu()}),window.addEventListener("resize",()=>{window.innerWidth>=768&&this.isMenuOpen&&this.closeMobileMenu()});let e=window.scrollY;window.addEventListener("scroll",()=>{this.handleHeaderScroll(e),e=window.scrollY})}setupKeyboardNavigation(){this.mobileMenuToggle&&this.mobileMenuToggle.addEventListener("keydown",e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.toggleMobileMenu())}),this.mobileMenuOverlay&&this.mobileMenuOverlay.addEventListener("keydown",e=>{"Tab"===e.key&&this.handleTabTrapping(e)})}toggleMobileMenu(){this.isMenuOpen?this.closeMobileMenu():this.openMobileMenu()}openMobileMenu(){this.isMenuOpen=!0,this.mobileMenuToggle.setAttribute("aria-expanded","true"),this.mobileMenuOverlay.setAttribute("aria-hidden","false"),this.mobileMenuOverlay.classList.add("active"),document.body.classList.add("mobile-menu-open"),setTimeout(()=>{const e=this.mobileMenuOverlay.querySelector('a, button, [tabindex]:not([tabindex="-1"])');e&&e.focus()},300),this.announceToScreenReader("Menu opened")}closeMobileMenu(){this.isMenuOpen=!1,this.mobileMenuToggle.setAttribute("aria-expanded","false"),this.mobileMenuOverlay.setAttribute("aria-hidden","true"),this.mobileMenuOverlay.classList.remove("active"),document.body.classList.remove("mobile-menu-open"),this.mobileMenuToggle.focus(),this.announceToScreenReader("Menu closed")}handleHeaderScroll(e){const t=window.scrollY,i=document.querySelector(".site-header");i&&(t>50?i.classList.add("scrolled"):i.classList.remove("scrolled"),t>e&&t>100?i.classList.add("header-hidden"):i.classList.remove("header-hidden"))}updateActiveStates(){const e=window.location.pathname;document.querySelectorAll(".nav-menu a, .mobile-nav-link").forEach(t=>{const i=new URL(t.href).pathname;i===e||"/"===e&&"Home"===t.textContent.trim()||e.includes(i)&&"/"!==i?t.classList.add("active"):t.classList.remove("active")})}handleTabTrapping(e){const t=this.mobileMenuOverlay.querySelectorAll('a, button, [tabindex]:not([tabindex="-1"])'),i=t[0],n=t[t.length-1];e.shiftKey?document.activeElement===i&&(e.preventDefault(),n.focus()):document.activeElement===n&&(e.preventDefault(),i.focus())}announceToScreenReader(e){const t=document.createElement("div");t.setAttribute("aria-live","polite"),t.setAttribute("aria-atomic","true"),t.className="sr-only",t.textContent=e,document.body.appendChild(t),setTimeout(()=>{document.body.removeChild(t)},1e3)}close(){this.closeMobileMenu()}isOpen(){return this.isMenuOpen}}document.addEventListener("DOMContentLoaded",function(){const t=new e;window.wpMasterDevNavigation=t,console.log("WordPress Master Developer Navigation initialized")})}();